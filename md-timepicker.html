<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/font-roboto/roboto.html">
<link rel="import" href="bower_components/polymer-ui-card/polymer-ui-card.html">
<link rel="import" href="bower_components/paper-ripple/paper-ripple.html">
<link rel="import" href="bower_components/paper-button/paper-button.html">
<!-- Why this ? see http://stackoverflow.com/questions/24947683/polymer-conflict-with-moment-js -->
<link rel="import" href="imports/moment.html">

<polymer-element name="md-timepicker" attributes="colors twentyfour active">
    <template>
        <style>
            *{
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }
            polymer-ui-card {
                display: block;
                height: 400px;
                width: 250px;
                margin: 20px auto;
                font-family: 'RobotoDraft', sans-serif;
                color: rgba(0,0,0,0.54);
            }
            #display {
                box-sizing: border-box;
                height: 120px;
                padding: 24px;
                color: rgb(255, 255, 255);
                font-size: 46px;
                font-weight: 100;
                background-color: rgb(82, 123, 206);
            }
            #display .digit{
                padding: 15px;
            }
            #keypad{
                box-sizing: border-box;
                font-size: 42px;
                font-weight: 300;
                padding: 15px 0;
            }
            .digit{
                border-radius: 50%;
                position: relative;
                text-align: center;
            }
        </style>
        <polymer-ui-card id="polymer_ui_card" layout vertical justified>

            <div id="display" center center-justified horizontal layout>
                <div id="hours" class="digit" on-click="{{selectHours}}">
                    <paper-ripple fit class="circle recenteringTouch"></paper-ripple>
                    {{hours}}
                </div>
                <span>:</span>
                <div id="minutes" class="digit" on-click="{{selectMinutes}}">
                    {{minutes}}
                    <paper-ripple fit class="circle recenteringTouch"></paper-ripple>
                </div>
            </div>
            <div id="keypad" layout horizontal center-justified>
                <div layout vertical flex>
                    <div class="digit">1<paper-ripple fit class="circle recenteringTouch"></paper-ripple></div>
                    <div class="digit">4<paper-ripple fit class="circle recenteringTouch"></paper-ripple></div>
                    <div class="digit">7<paper-ripple fit class="circle recenteringTouch"></paper-ripple></div>
                </div>
                <div layout vertical flex>
                    <div class="digit">2<paper-ripple fit class="circle recenteringTouch"></paper-ripple></div>
                    <div class="digit">5<paper-ripple fit class="circle recenteringTouch"></paper-ripple></div>
                    <div class="digit">8<paper-ripple fit class="circle recenteringTouch"></paper-ripple></div>
                    <div class="digit">0<paper-ripple fit class="circle recenteringTouch"></paper-ripple></div>
                </div>
                <div layout vertical flex>
                    <div class="digit">3<paper-ripple fit class="circle recenteringTouch"></paper-ripple></div>
                    <div class="digit">6<paper-ripple fit class="circle recenteringTouch"></paper-ripple></div>
                    <div class="digit">9<paper-ripple fit class="circle recenteringTouch"></paper-ripple></div>
                </div>
            </div>
            <paper-button id="done_button" label="Done"></paper-button>
        </polymer-ui-card>
    </template>
    <script src="bower_components/moment/min/moment.min.js"></script>
    <script>
    Polymer({
        twentyfour: true,
        active: false,
        created: function() {
            // create a default colors object for this instance
            this.colors = {
                mainColor: '#3f51b5',
                accentColor: '#ff4081'
            };
            var now = moment();
            this.hours = now.format("HH");
            this.minutes = now.format("mm");
            this.currentSelector = "hours";
        },
        selectHours: function(event, detail, sender){
            if(this.currentSelector != "hours"){
                console.log("switching to hours");
                this.currentSelector = "hours";
            }
        },
        selectMinutes: function(event, detail, sender){
            if(this.currentSelector != "minutes"){
                console.log("switching to minutes");
                this.currentSelector = "minutes";
            }
        }
    })
    </script>
</polymer-element>
